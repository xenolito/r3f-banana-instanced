(this["webpackJsonpbananas-instanced"]=this["webpackJsonpbananas-instanced"]||[]).push([[0],{51:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r,o,a,i,c=n(5),s=n.n(c),l=n(39),b=n.n(l),u=(n(51),n(63)),d=n(24),f=n(25),j=Object(f.b)(r||(r=Object(d.a)(["\n    from { opacity:1 }\n    to { opacity: 0 }\n"]))),h=f.a.div(o||(o=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100vh !important;\n    pointer-events: none;\n    background: #ffd863;\n    animation: "," 4s normal forwards ease-in-out 1s;\n    z-index: 2;\n"])),j),m=f.a.div(a||(a=Object(d.a)(["\n    font-family: Avenir, Arial, Helvetica, sans-serif;\n    font-size: 16px;\n    padding: min(3vw, 3rem);\n\n\n    & h1 {\n        position: relative;\n        padding: 0;\n        margin: 0 0 0.05em 0;\n        font-family: Avenir, Arial, Helvetica, sans-serif;\n        font-weight: bold;\n        font-size: min(10vw, 8rem);\n        width: 6ch;\n        line-height: 0.85em;\n        color: #fff;\n        display: block;\n        z-index: 2;\n\n        & .outline {\n            -webkit-text-stroke: 0.04ch #fff;\n            -webkit-text-fill-color: #0000!important;\n        }\n    }\n\n    & p {\n        position: relative;\n        backdrop-filter: saturate(90%) blur(20px);\n        -webkit-backdrop-filter: saturate(90%) blur(20px);\n        z-index: 3;\n        padding: 3rem;\n        margin: 4rem auto;\n        border-radius: 15px;\n        font-size: min(calc(1.6 + 2vw), 1.6rem);\n\n        background-color: rgba(255,255,255,0.15);\n\n        @supports (-webkit-backdrop-filter: blur(0px)) or (backdrop-filter: blur(0px)) {\n            backdrop-filter: saturate(90%) blur(20px);\n            -webkit-backdrop-filter: saturate(90%) blur(20px);\n            background-color: transparent;\n            /* background-color: rgba(255,255,255,0.1); */\n        }\n\n    }\n"]))),g=f.a.button(i||(i=Object(d.a)(["\n    font-size: 2rem;\n    position: relative;\n    z-index:2;\n    margin-right: 2rem;\n    background-color: transparent;\n    color: ",";\n    border: 1px solid #fff;\n    border-radius: 6px;\n    font-size: min(1.3rem, 6vw);\n    cursor: pointer;\n    padding: .4rem 1rem;\n    transition: all .3s ease;\n\n    &:hover  {\n        background-color: ",";\n        color: ",";\n        border: 1px solid ",";\n    }\n\n"])),(function(e){return e.color||"#fff"}),(function(e){var t;return(null===(t=e.hovercolors)||void 0===t?void 0:t.bg)||"transparent"}),(function(e){var t;return(null===(t=e.hovercolors)||void 0===t?void 0:t.color)||"#343434"}),(function(e){var t,n;return(null===(t=e.hovercolors)||void 0===t?void 0:t.border)||(null===(n=e.hovercolors)||void 0===n?void 0:n.color)})),p=n(11),O=n(8),x=Object(c.createContext)(),v=function(e){var t=Object(c.useState)("banana"),n=Object(p.a)(t,2),r=n[0],o=n[1];Object(c.useEffect)((function(){localStorage.getItem("fruitLocal")&&o(JSON.parse(localStorage.getItem("fruitLocal")))}),[]);return Object(O.jsx)(x.Provider,{value:{fruit:r,cambioFruit:function(e){o(e),localStorage.setItem("fruitLocal",JSON.stringify(e))}},children:e.children})},k=function(){var e=Object(c.useContext)(x),t=e.fruit,n=e.cambioFruit,r="kiwi"===t?"Kiwi":"Banana",o=function(e){n(e)};return Object(O.jsxs)(m,{className:"container",children:[Object(O.jsxs)("h1",{children:["The ",Object(O.jsxs)("span",{className:"outline",children:[r,"'s"]})," Life"]}),Object(O.jsx)(g,{onClick:function(){return o("kiwi")},children:"Quiero Kiwis"}),Object(O.jsx)(g,{onClick:function(){return o("banana")},color:"#fff",hovercolors:{color:"#ffff00",bg:"#ff0000"},children:"Quiero Pl\xe1tanos"})]})},w=Object(c.createContext)(),C=function(e){var t=Object(c.useState)({banana:{bgColor:[255,191,64,1],txtColor:[0,0,0]},kiwi:{bgColor:[131,92,8,1],txtColor:[255,255,0]}}),n=Object(p.a)(t,2),r=n[0],o=n[1];Object(c.useEffect)((function(){localStorage.getItem("themeLocal")&&o(JSON.parse(localStorage.getItem("themeLocal")))}),[]);return Object(O.jsx)(w.Provider,{value:{theme:r,cambioTheme:function(e){o(e),localStorage.setItem("themeLocal",JSON.stringify(e))}},children:e.children})},y=n(14),S=n(18),z=n(9),P=n(0),I=n(62),L=function(e){var t=e.z,n=e.depth,r=(e.bgTo,e.id,Object(c.useRef)()),o=Object(y.g)(),a=o.viewport,i=o.camera,s=Object(c.useState)(!1),l=Object(p.a)(s,2),b=l[0],u=l[1],d=Object(c.useState)(!1),f=Object(p.a)(d,2),j=f[0],h=f[1],m=Object(c.useContext)(x).fruit,g=a.getCurrentViewport(i,[0,0,t]),v=g.width,k=g.height,w="./gltf/",C={kiwi:Object(z.a)(Object(z.a)({},Object(I.a)("./kiwi-transformed.glb",w)),{},{scale:[2.77,2.77,2.77],rotation:[0,1.51,0],bgColor:[0,255,0]}),banana:Object(z.a)(Object(z.a)({},Object(I.a)("./banana-transformed.glb",w)),{},{matE:{color:"orange",intensity:.15},rotation:[-1.5,0,0],bgColor:[255,191,64],scale:1})},S=Object(c.useState)({x:P.MathUtils.randFloatSpread(2),y:P.MathUtils.randFloatSpread(k),z:t,rX:Math.random()*Math.PI,rY:Math.random()*Math.PI,rZ:Math.random()*Math.PI}),L=Object(p.a)(S,1)[0];return Object(c.useEffect)((function(){}),[r]),Object(y.e)((function(e,t,o,i){r.current.material.wireframe=j,r.current.rotation.set(L.rX+=.001,L.rY+=.005,L.rZ+=5e-4),r.current.position.set(L.x*v,L.y+=.02,b?L.z-=.2:L.z),L.y>a.getCurrentViewport(i,[0,0,L.z]).height&&(L.y=.85*-a.getCurrentViewport(i,[0,0,L.z]).height),b&&r.current.position.z<-2*n&&(u(!1),L.z=-Math.random()*n,L.y=-a.getCurrentViewport(i,[0,0,L.z]).height,r.current.position.z=L.z,r.current.position.y=L.y)})),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("mesh",{ref:r,onClick:function(){return u(!b)},onPointerEnter:function(e){return h(!0)},onPointerLeave:function(e){return h(!1)},geometry:C[m].nodes[m].geometry,scale:C[m].scale?C[m].scale:1,rotation:!!C[m].rotation&&C[m].rotation,children:Object(O.jsx)("meshStandardMaterial",{attach:"material",map:C[m].materials.skin.map,emissive:C[m].matE?C[m].matE.color:"#000000",emissiveIntensity:C[m].matE?C[m].matE.intensity:0,wireframe:b})})})},M=function(){var e=Object(c.useContext)(w).theme,t=Object(c.useContext)(x).fruit;return Object(y.e)((function(e){})),Object(O.jsx)("color",{attach:"background",args:["rgb(".concat(e[t].bgColor[0],",").concat(e[t].bgColor[1],",").concat(e[t].bgColor[2],")")]})},E=function(e){var t=e.count,n=e.depth,r=Object(c.useState)([255,191,64,1]),o=Object(p.a)(r,1)[0],a=Object(c.useContext)(x),i=a.fruit,s=a.cambioFruit,l=Object(c.useContext)(w),b=l.theme,u=l.cambioTheme;return Object(O.jsxs)(y.a,{gl:{alpha:!1,antialias:!1,powerPreference:"high-performance"},gl2:"true",performance:{min:.5},dpr:[1,1.5],mode:"concurrent",shadows:"false",camera:{near:.001,far:1.1*n,fov:45},className:"webglbg",style:{position:"fixed",height:"100vh",zIndex:"1"},children:[Object(O.jsx)(w.Provider,{value:{theme:b,cambioTheme:u},children:Object(O.jsx)(x.Provider,{value:{fruit:i,cambioFruit:s},children:Object(O.jsx)(M,{})})}),Object(O.jsx)("ambientLight",{intensity:.2}),Object(O.jsx)("spotLight",{position:[10,10,10],intensity:.2}),Object(O.jsx)(c.Suspense,{fallback:null,children:Object(O.jsxs)(x.Provider,{value:{fruit:i,cambioFruit:s},children:[Array.from({length:t},(function(e,r){return Object(O.jsx)(L,{id:r,z:-r/t*n-6,depth:n,bgColor:o},r)})),Object(O.jsx)(S.c,{multisampling:0,children:Object(O.jsx)(S.b,{target:[0,0,n/2],focalLength:.5,bokehScale:6,height:700})})]})})]})},F=n(47);Object(y.d)({UnrealBloomPass:F.a});function N(e){var t=e.count,n=void 0===t?60:t,r=e.depth,o=void 0===r?80:r;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(C,{children:Object(O.jsxs)(v,{children:[Object(O.jsxs)(c.Suspense,{fallback:null,children:[Object(O.jsx)(E,{count:n,depth:o}),Object(O.jsx)(h,{})]}),Object(O.jsx)(k,{}),Object(O.jsx)(u.a,{})]})})})}b.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a2deee4e.chunk.js.map